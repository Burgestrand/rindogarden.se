---
import Layout from '../layouts/Layout.astro';
import Headline from '../components/headings/Headline.astro'
import Time from '../components/events/Time.astro'

import * as events from '../events'

const upcoming = await events.list()
const title = "Rindögården!"
---

<Layout title={title}>
	<header class="subgrid">
		<Headline text={title} class="col-[full]" />
		<p class="text-center px-4 col-[content]">
			Vi är precis i <strong>startgroparna</strong>. Håll utkik, det kommer mer här snart!
		</p>
	</header>

	<main class="subgrid mb-12">
		<ol class="flex flex-col gap-y-8 col-[content]">
			{upcoming.map((event) => (
				<li class="flex rounded-md shadow-md bg-picton-blue-600 data-[uncertain]:bg-picton-blue-600/20 data-[uncertain]:opacity-80" data-uncertain={event.missingAdults > 0}>
					<a href={event.url} class="rounded-md px-4 py-4 block flex-1">
						<article class="flex flex-col gap-4">
							<header class="flex justify-between flex-wrap gap-x-4 gap-y-4">
								<div>
									<h1 class="text-4xl font-bangers tracking-wider leading-none">{event.data.title}</h1>
									<Time event={event} style="short" />
								</div>
								<span class="self-start">
									{event.data.adults.join(", ")}
									{event.missingAdults > 0 && <strong class="text-red-500">Vi saknar {event.missingAdults} vuxna!</strong>}
								</span>
							</header>
						</article>
					</a>
				</li>
			))}
		</ol>
	</main>
</Layout>

<style>
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.link-card-grid {
		grid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));
	}
</style>
